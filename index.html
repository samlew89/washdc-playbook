<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="robots" content="noindex, nofollow" />
  <title>DC Playbook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Figtree:wght@400;500;600;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
  <style>
    :root {
      --theme-color: #5e25fd;
      --base-font-family: 'Figtree', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    body {
      font-family: var(--base-font-family);
    }
    .sidebar {
      background-color: #f7f7f7;
      font-family: var(--base-font-family);
    }
    .sidebar-nav {
      font-family: var(--base-font-family);
    }

    /* Custom sidebar brand header */
    .app-name-link {
      display: none !important;
    }
    .sidebar-brand {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 20px 20px 15px 20px;
      border-bottom: 2px solid #5e25fd;
      margin-bottom: 15px;
    }
    .sidebar-brand img {
      width: 32px;
      height: 32px;
      flex-shrink: 0;
    }
    .sidebar-brand-title {
      font-size: 24px;
      font-weight: 800;
      color: #000;
      line-height: 1.2;
    }

    /* Adjust sidebar nav to account for custom header */
    .sidebar > h1 {
      display: none;
    }

    .markdown-section {
      font-family: var(--base-font-family);
    }
    .markdown-section h1,
    .markdown-section h2,
    .markdown-section h3,
    .markdown-section h4 {
      font-family: var(--base-font-family);
      color: #000;
      font-weight: 700;
    }
    .markdown-section h1 {
      border-bottom: 2px solid #5e25fd;
      padding-bottom: 10px;
    }
    .markdown-section table {
      display: table;
      width: 100%;
      border-radius: 8px;
      overflow: hidden;
    }
    .markdown-section table th {
      background-color: #5e25fd;
      color: white;
      font-weight: 600;
    }
    .markdown-section table tr:nth-child(even) {
      background-color: #f7f7f7;
    }
    .markdown-section a {
      color: #5e25fd;
    }
    .markdown-section a:hover {
      color: #4a1dcc;
    }
    .markdown-section code {
      background-color: #f8f5ff;
      padding: 2px 6px;
      border-radius: 4px;
      color: #5e25fd;
    }
    .markdown-section pre {
      background-color: #1a1a2e;
      border-radius: 12px;
    }

    /* Mobile header bar (hidden on desktop) */
    .mobile-header {
      display: none;
    }

    /* Mobile overlay (hidden on desktop) */
    .sidebar-overlay {
      display: none;
    }

    /* ========================================
       MOBILE STYLES (max-width: 768px)
       ======================================== */
    @media (max-width: 768px) {
      /* Mobile header with hamburger */
      .mobile-header {
        display: flex;
        align-items: center;
        gap: 12px;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: 56px;
        background: #fff;
        border-bottom: 1px solid #eee;
        padding: 0 16px;
        z-index: 30;
        box-shadow: 0 1px 3px rgba(0,0,0,0.05);
      }

      .mobile-header-brand {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .mobile-header-brand img {
        width: 28px;
        height: 28px;
      }

      .mobile-header-brand span {
        font-size: 18px;
        font-weight: 800;
        color: #000;
      }

      .hamburger-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        background: none;
        border: none;
        cursor: pointer;
        padding: 0;
      }

      .hamburger-btn svg {
        width: 24px;
        height: 24px;
        color: #333;
      }

      /* Sidebar overlay */
      .sidebar-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.5);
        z-index: 50;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
      }

      .sidebar-overlay.active {
        opacity: 1;
        pointer-events: auto;
      }

      /* Transform sidebar into mobile drawer */
      body .sidebar {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 280px !important;
        height: 100% !important;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
        z-index: 60 !important;
        padding-top: 0 !important;
        overflow-y: auto !important;
        background: #f7f7f7 !important;
      }

      body .sidebar.open {
        transform: translateX(0) !important;
      }

      /* Adjust main content for mobile header */
      body .content {
        padding-top: 56px !important;
      }

      body main {
        margin-left: 0 !important;
        padding-left: 0 !important;
      }

      /* Sidebar brand adjustments for mobile drawer */
      .sidebar-brand {
        padding: 15px 15px 12px 15px;
      }
      .sidebar-brand img {
        width: 28px;
        height: 28px;
      }
      .sidebar-brand-title {
        font-size: 20px;
      }

      /* Typography scaling for mobile */
      .markdown-section h1 {
        font-size: 1.6rem;
        padding-bottom: 8px;
      }

      .markdown-section h2 {
        font-size: 1.3rem;
      }

      .markdown-section h3 {
        font-size: 1.1rem;
      }

      .markdown-section {
        padding: 16px !important;
        max-width: 100% !important;
      }

      /* Scrollable tables on mobile */
      .markdown-section .table-wrapper {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        margin: 0 -16px;
        padding: 0 16px;
      }

      .markdown-section table {
        min-width: 500px;
        font-size: 13px;
      }

      .markdown-section table th,
      .markdown-section table td {
        padding: 8px 10px;
        white-space: nowrap;
      }

      /* Hide Docsify's default toggle button */
      .sidebar-toggle {
        display: none !important;
      }
    }

    /* ========================================
       SMALL MOBILE STYLES (max-width: 480px)
       ======================================== */
    @media (max-width: 480px) {
      .mobile-header {
        padding: 0 12px;
      }

      .mobile-header-brand span {
        font-size: 16px;
      }

      .markdown-section h1 {
        font-size: 1.4rem;
      }

      .markdown-section h2 {
        font-size: 1.2rem;
      }

      .markdown-section {
        padding: 12px !important;
      }

      .markdown-section table {
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <!-- Mobile Header -->
  <div class="mobile-header">
    <button class="hamburger-btn" id="menuToggle" aria-label="Toggle menu">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
    <div class="mobile-header-brand">
      <img src="assets/logo.svg" alt="Helium Logo">
      <span>DC Playbook</span>
    </div>
  </div>

  <!-- Sidebar Overlay -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <div id="app"></div>
  <script>
    window.$docsify = {
      name: '',
      repo: '',
      loadSidebar: true,
      subMaxLevel: 0,
      auto2top: true,
      coverpage: false,
      themeColor: '#5e25fd',
      homepage: 'overview.md',
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/docsify@4"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-markdown.min.js"></script>
  <script>
    // Add custom branded header to sidebar
    document.addEventListener('DOMContentLoaded', function() {
      function addSidebarBrand() {
        const sidebar = document.querySelector('.sidebar');
        if (sidebar && !document.querySelector('.sidebar-brand')) {
          const brand = document.createElement('div');
          brand.className = 'sidebar-brand';
          brand.innerHTML = `
            <img src="assets/logo.svg" alt="Helium Logo">
            <span class="sidebar-brand-title">DC Playbook</span>
          `;
          sidebar.insertBefore(brand, sidebar.firstChild);
        }
      }

      // Try immediately and also observe for sidebar creation
      addSidebarBrand();
      const observer = new MutationObserver(addSidebarBrand);
      observer.observe(document.body, { childList: true, subtree: true });

      // Cleanup observer after sidebar is ready
      setTimeout(() => observer.disconnect(), 3000);

      // Mobile menu toggle
      const menuToggle = document.getElementById('menuToggle');
      const sidebarOverlay = document.getElementById('sidebarOverlay');

      function openSidebar() {
        const sidebar = document.querySelector('.sidebar');
        if (sidebar) {
          sidebar.classList.add('open');
          sidebarOverlay.classList.add('active');
          document.body.style.overflow = 'hidden';
        }
      }

      function closeSidebar() {
        const sidebar = document.querySelector('.sidebar');
        if (sidebar) {
          sidebar.classList.remove('open');
          sidebarOverlay.classList.remove('active');
          document.body.style.overflow = '';
        }
      }

      menuToggle.addEventListener('click', function() {
        const sidebar = document.querySelector('.sidebar');
        if (sidebar && sidebar.classList.contains('open')) {
          closeSidebar();
        } else {
          openSidebar();
        }
      });

      // Close sidebar on overlay tap
      sidebarOverlay.addEventListener('click', closeSidebar);

      // Close sidebar on link tap
      document.addEventListener('click', function(e) {
        if (e.target.closest('.sidebar-nav a')) {
          closeSidebar();
        }
      });

      // Wrap tables for horizontal scroll on mobile
      function wrapTables() {
        const tables = document.querySelectorAll('.markdown-section table');
        tables.forEach(table => {
          if (!table.parentElement.classList.contains('table-wrapper')) {
            const wrapper = document.createElement('div');
            wrapper.className = 'table-wrapper';
            table.parentNode.insertBefore(wrapper, table);
            wrapper.appendChild(table);
          }
        });
      }

      // Wrap tables on route change
      const tableObserver = new MutationObserver(wrapTables);
      const contentArea = document.getElementById('app');
      if (contentArea) {
        tableObserver.observe(contentArea, { childList: true, subtree: true });
      }
    });
  </script>
</body>
</html>
